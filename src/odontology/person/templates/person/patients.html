{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}Mis Pacientes{% endblock %}

{% block links %}
  <link href="{% static 'css/patients.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
{{ block.super }}
{% include "person/patients/_add.html" %}
{% include "register/_delete.html" with title="Borrar Paciente" %}

<div class="row padding-top">
  <form id="filter" action="." method="GET" class="form-inline" role="form">
    <div class="col-md-12">
        <h1 class="page-header"><i class="fa fa-users"></i>&nbsp;&nbsp;Pacientes</h1>
        <div class="buttons">
              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal-patient"><i class="fa fa-user-plus"></i> Agregar nuevo</button>
              <div class="form-group" style="padding-left:25px;">
                <input id="text_search" name="text_search" class="form-control" type="text"{% if text_search %} value="{{text_search}}" {% endif %}placeholder="Search" style="width: 280px;">
                <button type="button" class="btn btn-primary" onclick="javascript: filter();"><i class="fa fa-search"></i></button>
              </div>
        </div>
        <div id="list-patients">
            <div class="alert alert-info" id="alert-obs">
              <strong>Atención!</strong> Las observaciones de estos pacientes en su historia clínica. Pueden contener datos importante.
            </div>
            <div class="panel panel-primary" style="box-shadow: 0 4px 12px rgba(60,55,75,.16);">
              <div class="panel-heading">Lista de pacientes</div>
              <div class="panel-body no-padding">
                {% include "person/patients/table.html" %}
              </div>
            </div>
        </div>
    </div>
  </form>
</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="{% static 'js/patients.js'%}"></script>
<script type="text/javascript" src="{% static 'js/_add_patient.js'%}"></script>
{% if rec_added %}
<script type="text/javascript">
  $(function(){
    toastr.success("El paciente se ha añadido correctamente.", "NUEVO PACIENTE.");
  });
</script>
{% endif %}
{%endblock%}
